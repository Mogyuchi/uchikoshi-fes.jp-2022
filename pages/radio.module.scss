// SPDX-License-Identifier: MIT

@use "@/components/mixins" as *;
@use "@/components/variables" as *;

@keyframes flash {
  0% {
    background-color: mix($color-base, $color-accent);
  }
  50% {
    background-color: mix($color-base, $color-accent, 25%);
  }
  100% {
    background-color: mix($color-base, $color-accent);
  }
}

.attached-icon {
  margin-right: 0.5em;
}

.live {
  width: 100vw;
  margin: 1rem calc(50% - 50vw);
  aspect-ratio: 16 / 9;
  background-color: $color-main;

  iframe {
    width: 100%;
    height: 100%;
  }
}

.schedule-table {
  flex: 1;
  table-layout: fixed;

  > thead {
    color: $color-base;

    > tr {
      height: 3rem;
      width: 100%;
      background-color: $color-accent;

      &:first-child {
        font-size: 1.2em;
      }

      &:nth-child(even) {
        background-color: $color-accent-light;
      }
    }
  }

  > tbody > tr {
    &:nth-child(even) {
      background-color: rgba($color-main, 0.1);
    }

    &:not(:hover) > td:nth-child(2) > span:last-child > span:nth-child(2) {
      display: none;
    }

    &:hover > td:nth-child(2) > span:last-child > span:nth-child(1) {
      display: none;
    }

    > td {
      height: 100%;
      padding: 0;
      overflow: auto;

      &:nth-child(1) > div {
        position: relative;
        height: 100%;
        text-align: center;

        > div {
          position: absolute;
          width: 100%;
        }
      }

      &:nth-child(2) {
        padding: 0 0.5rem;
        @include non-break;
      }
    }
  }
}

.schedule-time {
  width: 5em;
}

.schedule-on-air > td {
  position: relative;
  color: $color-base;

  &::before {
    content: "";
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    display: block;
    z-index: -1;
    animation: flash 2s ease infinite;
  }
}

.schedule-start {
  top: 0;
}

.schedule-end {
  bottom: 0;
}

.schedule > div {
  position: relative;
  max-height: 480px;
  width: 100%;
  border: 2px solid;
  aspect-ratio: 1 / 2;

  > div {
    height: 100%;
    padding: 0 0 60px;
    display: flex;
    flex-direction: column;
    overflow-y: scroll;

    @media (min-width: 720px) {
      flex-direction: row;

      > table:not(:first-child) {
        border-left: 4px solid;
      }
    }
  }

  &::after {
    content: "";
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    display: block;
    pointer-events: none;
    box-shadow: 0 -120px 60px -60px $color-base inset;
  }
}

.asano-radio {
  @include outermost-container;
}

.youtube-container {
  margin: 1rem 0;
}

.schedule-container {
  margin: 1rem 0;
}
